<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Box</title>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
      import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyD5bw3a-mbaoYOwOpCUcODwt77c-cJyWTw",
        authDomain: "boxi-40e55.firebaseapp.com",
        projectId: "boxi-40e55",
        storageBucket: "boxi-40e55.firebasestorage.app",
        messagingSenderId: "777028358786",
        appId: "1:777028358786:web:961e22a3908b689a295a9b"
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      function loadUsers() {
        const usersRef = ref(db, 'users/');
        get(usersRef).then((snapshot) => {
          const userList = document.getElementById('user-list');
          if (snapshot.exists()) {
            const users = snapshot.val();
            for (const userId in users) {
              const user = users[userId];
              const listItem = document.createElement('li');
              listItem.innerHTML = `User: ${user.username}`;
              userList.appendChild(listItem);
            }
          } else {
            userList.innerHTML = "No users found.";
          }
        });
      }

      window.onload = loadUsers;
    </script>
  </head>
  <body>
    <h1>Admin Dashboard</h1>
    <ul id="user-list"></ul>
  </body>
</html>
